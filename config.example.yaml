# Cymbiont Rust MCP Server Configuration
# Copy this to config.yaml and customize for your environment

graphiti:
  # Graphiti FastAPI backend URL
  base_url: "http://localhost:8000"

  # HTTP request timeout in seconds
  timeout_secs: 30

  # Default group_id for episodes (allows shared memory across sessions)
  default_group_id: "default"

  # Path to graphiti-cymbiont/server directory (where main.py lives)
  # Default uses bundled graphiti-cymbiont (relative to binary)
  # Override with custom absolute path if needed
  # server_path: "/custom/path/to/graphiti-cymbiont/server"

corpus:
  # Absolute path to corpus directory (markdown files auto-synced to knowledge graph)
  # Must be absolute. Leave commented/null to disable document sync.
  # Example: "/home/username/Documents/knowledge-base"
  path: null

  # Sync interval in hours (hourly batch processing)
  sync_interval_hours: 1.0

logging:
  # Logging level: trace, debug, info, warn, error
  level: "info"

  # Output destination: "stderr" or "file"
  # IMPORTANT: Use "file" for MCP mode (Claude Code treats stderr as errors)
  output: "file"

  # Log directory (can be relative to binary or absolute)
  # Default: "logs" (relative to cymbiont binary location)
  # Example absolute: "/absolute/path/to/logs"
  log_directory: "logs"

  # Maximum number of log files to retain
  max_files: 10

  # Maximum log file size in MB before rotation
  max_size_mb: 5

  # CRITICAL: Set false in MCP mode (stdout reserved for JSON-RPC)
  # Claude Code shows all stderr output as red errors in UI
  console_output: false

verbosity:
  # Verbosity monitoring thresholds (logs per minute)
  # Autodebugger tracks logging frequency to detect excessive verbosity
  info_threshold: 50
  debug_threshold: 100
  trace_threshold: 200
